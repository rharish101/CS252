<!doctype html>
<html class="no-js" lang="zxx">
{% load static %}
<head>
    <meta charset="utf-8">
    <meta name="author" content="Sumon Rahman">
    <meta name="description" content="">
    <meta name="keywords" content="HTML,CSS,XML,JavaScript">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title -->
    <title>NFCL</title>
    <!-- Place favicon.ico in the root directory -->
    <link rel="apple-touch-icon" href="{% static 'core/images/apple-touch-icon.png' %}">
    <link rel="shortcut icon" type="image/ico" href="{% static 'core/images/favicon.ico' %}" />
    <!-- Plugin-CSS -->
    <link rel="stylesheet" href="{% static 'core/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/linearicons.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/animate.css' %}">
    <!-- Main-Stylesheets -->
    <link rel="stylesheet" href="{% static 'core/css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'core/style.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/responsive.css' %}" >
    <script src="{% static 'core/js/vendor/modernizr-2.8.3.min.js' %}" ></script>

    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body data-spy="scroll" data-target=".mainmenu-area">
    <!-- Preloader-content -->
    <div class="preloader">
        <span><i class="lnr lnr-sun"></i></span>
    </div>

    <!-- Home-Area -->
    <header class="home-area overlay" id="home_page">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 hidden-sm col-md-4">
                    <figure class="mobile-image wow fadeInUp" data-wow-delay="0.2s">
                        <img src="{% static 'core/images/mock.png' %}" alt="">
                    </figure>
                </div>
                <div class="col-xs-12 col-md-7">
                    <div class="space-80 hidden-xs"></div>
                    <h1 class="wow fadeInUp" data-wow-delay="0.4s">Welcome to NFCL</h1>
                    <div class="space-20"></div>
                    <div class="desc wow fadeInUp" data-wow-delay="0.6s">
                        <p>The "No-Frills Cab Locator" helps connect customers directly to drivers. It's easy to use, requiring just the click of a button; truly no-frills.</p>
                    </div>
                    <div class="space-40"></div>
                    <div id="app-download">
                      <a href="{% static 'core/apk/NFCL-customer.apk' %}" download class="bttn-white wow fadeInUp" data-wow-delay="0.8s" style="visibility: visible; animation-delay: 0.8s; animation-name: fadeInUp;"><i class="lnr lnr-download"></i>Download Customer App</a>
                      <a href="{% static 'core/apk/NFCL-driver.apk' %}" download class="bttn-white wow fadeInUp" data-wow-delay="0.8s" style="visibility: visible; animation-delay: 0.8s; animation-name: fadeInUp;"><i class="lnr lnr-download"></i>Download Driver App</a>
                    </div>
                    <!--  -->
                    <div class="space-40"></div>
                    <button onclick="getLocation()" class="bttn-white wow fadeInUp" data-wow-delay="0.8s"><i class="lnr "></i>Try It Now : Get NearBy Drivers</button>
                </div>
                <p id="demo"></p>
            </div>
        </div>
    </header>
    <!-- Home-Area-End -->

    <!-- Testimonial-Area -->
    <div id="drivers"></div>
    <!-- Testimonial-Area-End -->

    <section class="gallery-area section-padding" id="gallery_page">
        <!-- <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-6 gallery-slider">
                    <div class="gallery-slide">
                        <div class="item"><img src="{% static 'core/images/g1.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g4.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g2.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g3.png' %}" alt=""></div>

                        <div class="item"><img src="{% static 'core/images/g1.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g4.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g2.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g3.png' %}" alt=""></div>

                        <div class="item"><img src="{% static 'core/images/g1.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g4.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g2.png' %}" alt=""></div>
                        <div class="item"><img src="{% static 'core/images/g3.png' %}" alt=""></div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-5 col-lg-3">
                    <div class="page-title">
                        [><h5 class="white-color title wow fadeInUp" data-wow-delay="0.2s">Screenshots</h5><]
                        [><div class="space-10"></div><]
                        <h3 class="white-color wow fadeInUp" data-wow-delay="0.4s">Screenshots</h3>
                    </div>
                    [><div class="space-20"></div><]
                    <div class="desc wow fadeInUp" data-wow-delay="0.6s">
                        <p>Here are some screenshots from our apps</p>
                    </div>
                    <div class="space-30"></div>
                    <button onclick="document.getElementById('app-download').scrollIntoView({behavior: 'smooth', block: 'end'});" class="bttn-default wow fadeInUp" data-wow-delay="0.8s">Get the App</a>
                </div>
            </div>
        </div> -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-6 gallery-back">
                    <div class="owl-carousel">
                        <div class="item" style="width: 250px;"><img src="{% static 'core/images/g1.png' %}" alt=""></div>
                        <div class="item" style="width: 250px;"><img src="{% static 'core/images/g4.png' %}" alt=""></div>
                        <div class="item" style="width: 250px;"><img src="{% static 'core/images/g2.png' %}" alt=""></div>
                        <div class="item" style="width: 250px;"><img src="{% static 'core/images/g3.png' %}" alt=""></div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-5 col-lg-3">
                    <div class="space-20"></div>
                    <div class="page-title">
                        <!-- <h5 class="white-color title wow fadeInUp" data-wow-delay="0.2s">Screenshots</h5> -->
                        <!-- <div class="space-10"></div> -->
                        <h3 class="white-color wow fadeInUp" data-wow-delay="0.4s">Screenshots</h3>
                    </div>
                    <!-- <div class="space-20"></div> -->
                    <div class="desc wow fadeInUp" data-wow-delay="0.6s">
                        <p>Here are some screenshots from our apps</p>
                    </div>
                    <div class="space-30"></div>
                    <button onclick="document.getElementById('app-download').scrollIntoView({behavior: 'smooth', block: 'end'});" class="bttn-default wow fadeInUp" data-wow-delay="0.8s">Get the App</a>
                </div>
            </div>
        </div>
    </section>





        <!-- Footer-Bootom -->
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class=" text-center">


                            <span>&copy;<script>document.write(new Date().getFullYear());</script> NFCL. All rights reserved </span>

                    </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- Footer-Bootom-End -->


    <!-- Footer-Area-End -->
    <!-- CUSTOm SCRIPT -->
    <script>
        var x = document.getElementById("drivers");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(make_post_request, showError);

            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function make_post_request(position){
            $.post(
                "https://nfcl.pythonanywhere.com/api/nearbyDriversWeb",
                {
                  latitude: position.coords.latitude,
                  longitude: position.coords.longitude

                },
                function(data,status){
                    if (status === "success") {
                        var drivers = data.drivers;
                        drivers.sort((a, b) => {
                            if (Number(a.distance) < Number(b.distance))
                                return -1;
                            else if (Number(a.distance) > Number(b.distance))
                                return 1;
                            else
                                return 0;
                        })
                        var html = `<section class="testimonial-area" id="testimonial_page">
                                            <div id=""class="container">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <div class="page-title text-center">
                                                            <h5 class="title">Closest Drivers</h5>
                                                            <div class="space-40"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-offset-2 col-xs-8 text-center">`;
                        if (drivers.length == 0)
                            html += '<h4 class="title" style="color: #8790af">No Drivers Found</h4>';
                        else {
                            html += '<div class="team-slide">';
                            for (var i = 0; i < drivers.length; i++) {
                                html += '<div class="team-box"><h4>' + drivers[i].name + '</h4>';
                                html += '<h5>' + drivers[i].mobile_no + '</h5>';
                                html += '<h5>' + Math.round(Number(drivers[i].distance) / 10) / 100.0 + 'km away</h5>';
                                html += '</div>';
                            }
                            html += '</div>';
                        }
                        html += `
                                        </div>
                                    </div>
                                </div>
                            </section>`;
                        x.innerHTML = html;
                        document.getElementById('drivers').scrollIntoView({behavior: "smooth", block: "start"});
                    }
                },
                "json"
                );
        }

        function showError(error) {
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    x.innerHTML = "User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    x.innerHTML = "Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    x.innerHTML = "The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    x.innerHTML = "An unknown error occurred."
                    break;
            }
        }
    </script>


    <!--Vendor-JS-->
    <script src="{% static 'core/js/vendor/jquery-1.12.4.min.js' %}"></script>
    <script src="{% static 'core/js/vendor/jquery-ui.js' %}"></script>
    <script src="{% static 'core/js/vendor/bootstrap.min.js' %}"></script>
    <!--Plugin-JS-->
    <script src="{% static 'core/js/owl.carousel.min.js' %}"></script>
    <script>
        $(document).ready(function(){
            $(".owl-carousel").owlCarousel({
                margin: 60,
                loop: true,
                autoWidth: true,
                dots: true,
                center: true,
                autoplay: true,
                autoplayTimeout: 2000,
                responsive: {
                    0: {
                        items: 1,
                        margin: 300
                    },
                    600: {items: 2},
                    1000: {items: 4}
                }
            });
        })
    </script>
    <script src="{% static 'core/js/contact-form.js' %}"></script>
    <script src="{% static 'core/js/ajaxchimp.js' %}"></script>
    <script src="{% static 'core/js/scrollUp.min.js' %}"></script>
    <script src="{% static 'core/js/magnific-popup.min.js' %}"></script>
    <script src="{% static 'core/js/wow.min.js' %}"></script>
    <!--Main-active-JS-->
    <script src="{% static 'core/js/main.js' %}"></script>
</body>

</html>
